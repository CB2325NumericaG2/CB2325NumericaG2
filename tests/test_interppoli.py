import pytest
from src.interpolacao import PolinomioInterpolador

@pytest.mark.parametrize(
    "x, y, esperado",
    [
        ([1,2], [1,1], [1,0]),
        ([1,2], [1,1], [1,0]),
        ([1,2], [1,2], [0,1]),
        ([1,2,3], [1,2,4], [1,-0.5,0.5]),
        ([1,2,3,4], [17,4,71,202], [126,-162.33333333333,56,-2.66666666667]),
        ([1,2,-3,4,5,0],[-39,-368,-243,-3456,-6875,0], [1,-30,-10]),
        ([1, 2], [5, 7], [3,2]),
        ([0, 1, 2], [0, 1, 4], [0,0,1]),
        ([1, 5, 10], [10, 10, 10], [10,0,0]),
        ([3], [99], [99]),
        ([-1, 0, 1, 2], [0, 0, 0, 6], [0,-1,0,1]),
        ([-2, 0, 2], [4, 0, 4], [0,0,1]),
        ([3, 1], [10, 4], [1,3]),
        ([0, 1, 2, 3, 4], [1, 2, 5, 10, 17], [1,0,1,0,0])
    ]
)
def test_polinomial_parametrico(x, y, esperado):
    resultado = PolinomioInterpolador(x, y)
    assert resultado.__repr__() == pytest.approx(esperado, abs=1e-9)